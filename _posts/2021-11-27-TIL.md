---
layout: post
title: "Nest.JS ê¸°ì´ˆğŸ’¬"
date: 2021-11-27
categories: TIL Nest.JS
---

# Nest.JS

![](https://raw.githubusercontent.com/Action2theFuture/Action2theFuture.github.io/main/_posts/Images/nest-og.png)

`npm i g @nestjs/cli`  

- project start  
`nest new {project name}`

### Server Start
`npm run start`  
`npm run start:dev`  

### Test Start
`npm run test`

## NestJS Architecture

```
src
â”œâ”€â”€ app.controller.spec.ts
â”œâ”€â”€ app.controller.ts
â”œâ”€â”€ app.module.ts
â”œâ”€â”€ app.service.ts
â””â”€â”€ main.ts
```

- Controller  
í´ë¼ì´ì–¸íŠ¸ë¡œ requestë¥¼ ë°›ì•„ì„œ serviceë¡œ ë°ì´í„° ì²˜ë¦¬ ìš”êµ¬ ë° ë°˜í™˜ 

- Service  
ì‹¤ì œë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë™ì‘

- Module  
Controllerì™€ Serviceë¥¼ ëª¨ì•„ì„œ ëª¨ë“ˆí™” 

- DTO(Data Transfer Object)  
ë°ì´í„° ê²€ì¦  
`userGlobalPipes`(ì „ì—­ íŒŒì´í”„)ë¥¼ ì´ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ìš”ì²­ê³¼ ì‘ë‹µ êµ¬ê°„ì—ì„œ ê²€ì¦ì„ í•  ìˆ˜ ìˆë‹¤

```typescript
import { ValidationPipe } from '@nestjs/common';
import { NestFactory } from '@nestjs/core';
import { AppModule } from './app.module';

async function bootstrap() {
  const app = await NestFactory.create(AppModule);
  
  app.useGlobalPipes(new ValidationPipe({
  	whitelist: true, // validationì„ ìœ„í•œ decoratorê°€ ë¶™ì–´ìˆì§€ ì•Šì€ ì†ì„±ë“¤ì€ ì œê±°
    forbidNonWhitelisted: true, // whitelist ì„¤ì •ì„ ì¼œì„œ ê±¸ëŸ¬ì§ˆ ì†ì„±ì´ ìˆë‹¤ë©´ ì•„ì˜ˆ ìš”ì²­ ìì²´ë¥¼ ë§‰ë„ë¡ (400 ì—ëŸ¬)
    transform: true, // ìš”ì²­ì—ì„œ ë„˜ì–´ì˜¨ ìë£Œë“¤ì˜ í˜•ë³€í™˜
  }));
  
  await app.listen(5000);
}
```
