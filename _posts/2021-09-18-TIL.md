---
layout: post
title: "Jenkins 기초"
date: 2021-09-18
categories: TIL Jenkins CI/CD Dockerhub EC2
---

# JenKins

CI/CD에 대표적인 툴  
자바 런타임 환경 기반의 오픈소스 소프트웨어  
자바 설치
[링크](https://davelogs.tistory.com/71)

자바 기본 Port는 8080  
그러므로 젠킨스서버는 기본적으로 8080 Port에서 돌아간다

모든 작업들에 대한 자동 Build, Test, Deliver(=Deploy) 이 가능하다  
Git과 연동하여 빌드를 통하여 개발과 배포를 도와준다  
Plugin을 설치하여 새로운 환경을 만들 수 있다

## 젠킨스 시작하기

[Jenkins 다운로드](https://www.jenkins.io/download/)

우분투에서  
`sudo service jenkins start`로 서버를 실행한다

**jenkin 명령어**  
`service jenkins {start|stop|status|restart|force-reload}`

`/var/lib/jenkins/secrets/initialAdminPassword`  
위치에서 admin 비밀번호를 확인이 가능하다

**Jenkins 로그인 비활성화**

`sudo vi /var/lib/jenkins/config.xml`

vim을 통해 해당 파일에 들어가서 설정을 바꿔준다

```java
<useSecurity>false</useSecurity>
```

## DockerHub 연동하기

Docker를 통하여 배포를 하면 연동된 Jenkin를 통하여 자동화된 버전관리를 할 수 있다

**연결과정**  
Docker로 DockerHub에 push를 하면 webhook을 통해 push된 빌드된 Docker를  
EC2에서 띄어진 젠킨스가 감지를 한다 자동적으로 Docker를 pull받은 뒤 배포를 한다  
(이러한 과정은 젠킨스에 설치된 Plugin으로 가능한 부분이다)

여기서 Docker를 빌드를 하고 배포를 하는 과정인 CI/CD이다

### terminal docker permisiion denied

```
dial unix /var/run/docker.sock: connect: permission denied
```

젠킨스 서버에 도커그룹을 추가해준다

`sudo usermod -aG docker jenkins`

## GithHub 연동하기

## EC2

EC2 Permission error  
[링크](https://techsoda.net/windows10-pem-file-permission-settings/)

볼륨 마운트  
[링크](https://minjii-ya.tistory.com/27)
