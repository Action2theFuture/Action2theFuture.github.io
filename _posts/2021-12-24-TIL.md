---
layout: post
title: "MySQL"
date: 2021-12-24
categories: TIL MySql Error
---

mysql engine 확인

```sql
SHOW ENGINE INNODB STATUS;
```

- Foreign Key Error

```bash
ERROR 1215 (HY000) at line 104: Cannot add foreign key constraint
```

- Charcter Set 조회

```sql
SELECT default_character_set_name, DEFAULT_COLLATION_NAME FROM information_schema.SCHEMATA  WHERE schema_name = "{database_name}";
+----------------------------+------------------------+
| default_character_set_name | DEFAULT_COLLATION_NAME |
+----------------------------+------------------------+
| utf8                       | utf8_general_ci        |
+----------------------------+------------------------+
1 row in set (0.00 sec)
```

```mysql
mysql -uroot -p -N -s -D database_name "select count(*) from table_name"

-N만 사용
+---+
| 1 |
+---+

-s만 사용
count(*)
1

-Ns 사용
1
```

- `-D` : 가져올 데이터베이스 이름
- `-B` : 컬럼 네임을 출력하지 않는다
- `-s` : 데이터베이스 표를 출력하지 않는다
- `-e` : 데이터베이스 외부에서 쿼리 작성

- mysql index 확인

```mysql
SHOW INDEX FROM tablename;
```

- 테이블의 인덱스 추가하기 : 컬럼은 1개도 가능, 2개 이상도 가능

```mysql
ALTER TABLE tablename ADD INDEX indexname (column1, column2);
```

- 테이블의 유니크 인덱스 추가하기
  - 컬럼은 1개도 가능, 2개 이상도 가능

```mysql
ALTER TABLE tablename ADD UNIQUE INDEX indexname (column1, column2);
```

- 테이블의 인덱스 삭제하기

```mysql
ALTER TABLE tablename DROP INDEX indexname;
```
